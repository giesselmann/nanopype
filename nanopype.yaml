# Raw sequencing data parent directory containing one folder per flow cell
storage_data_raw : /data/raw


# How to parse the folders found in 'storage_data_raw'. A 'reads' subfolder is
# expected containing the batches of fast5 raw reads.
# A runname pattern could be 20180101_FAH12345_FLO-MIN106_SQK-LSK109_WA01
# Field IDs are zero based.
storage_runname:
    delimiter: '_'
    field_ID: 1
    field_flowcell: 2
    field_kit: 3


# threads per processing batch, if given enough threads with -j n multiple
# batches run in parallel. Also used as resource for cluster jobs.
# Alignments need to be run with at least -j 2 for alignment and sam to bam
# conversion.
threads_basecalling: 4
threads_alignment: 3
threads_samtools : 1
threads_methylation: 4
threads_sv: 4
threads_demux: 4
threads_transcript: 4
threads_transcript_batch: 4
threads_asm: 8


# basecalling
# run basecalling and write predicted barcode into name of fastq/fasta output
basecalling_albacore_barcoding: false
# do not split output into pass and fail folders, report every sequence.
basecalling_albacore_disable_filtering: true
# command line flags directly passed to albacore e.g. --disable_pings
basecalling_albacore_flags: ''
# config file for guppy basecalling
basecalling_guppy_config: 'dna_r9.4.1_450bps_fast.cfg'
# quality qscore filter for guppy. 0 means all reads are written to the output
basecalling_guppy_qscore_filter: 0
# command line flags directly passed to guppy
basecalling_guppy_flags: ''
# list of guppy_basecall_server
# basecalling_guppy_server:
    # - 'localhost:9000'
# the flappie basecaller supports different models, check the docs for available options
basecalling_flappie_model: 'r941_5mC'
# command line flags directly passed to flappie
basecalling_flappie_flags: ''


# alignment flags for samtools e.g. -F 2304 for RNA alignment
alignment_samtools_flags: ''
# command line flags for minimap2 DNA alignment
alignment_minimap2_flags: '-ax map-ont -L'
# command line flags for graphmap
alignment_graphmap_flags: '-B 100'
# command line flags for ngmlr
alignment_ngmlr_flags: '-x ont --bam-fix'


# methylation detection
# Abs. log-likelyhood ratio to treat sites as methylated or unmethylated.
methylation_nanopolish_logp_threshold: 2.5
# Sequence quality threshold on CG sites to trust flappie methylation calls
methylation_flappie_qval_threshold: 3


# demux
demux_batch_size: 4000
demux_default: 'deepbinner'
deepbinner_models:
    default: 'SQK-RBK004_read_starts'
    EXP-NBD103: 'EXP-NBD103_read_starts'
    SQK-RBK004: 'SQK-RBK004_read_starts'
demux_seq_workflow : 'guppy'
demux_seq_tag : 'default'
demux_guppy_kits : 'EXP-NBD104'


# structural variation
# command line flags directly passed to the sniffles execution
sv_sniffles_flags: '-s 10 -l 30 -r 2000 --genotype'
sv_STRique_config: 'STRique.tsv'
sv_STRique_model: 'r9_4_450bps.mpi.model'
sv_STRique_mod_model: 'r9_4_450bps_mCpG.mpi.model'


# transcriptome
transcript_use_pychopper: True
transcript_spliced_bam2gff_flags: ''
transcript_cluster_gff_flags: '-c 10 -d 10 -e 30'
transcript_collapse_partials: '-d 5 -f 5000 -e 30'
transcript_polish_clusters: '-c 10'


# Assembly
asm_genome_size : '3.0g'
asm_flye_preset : '--nano-raw'
asm_flye_flags : '--asm-coverage 35'
